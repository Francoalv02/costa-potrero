<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservas - Administración</title>
    <link rel="stylesheet" href="../css/estilo.css">
    <script type="module" src="./js/index.js"></script>
</head>
<body>
    <header>
        <div class="logo">
            <h1 class="h1">Costa Potrero</h1>
            <button onclick="cerrarSesion()" class="btn-logout">Cerrar sesión</button>
        </div>
        <nav>
            <ul>
                <li> 
                    <a href="./../../index.html">Inicio</a>
                    <a href="./../reservas/disponibilidad.html">Disponibilidad</a>
                    <a href="./../reservas/index.html">Listado Reservas</a>
                    <a href="./../cabanas/alta.html">Alta Cabaña</a>
                    <a href="./../cabanas/index.html">Listado Cabañas</a>
                    <a href="./../huespedes/index.html">Listado Huespedes</a>
                    <a href="./../pagos/pagos.html">Lista de Pagos</a>
                </li>
            </ul>
        </nav>
    </header>

    <!-- Botón flotante de búsqueda -->
    <button id="btn-busqueda-flotante" class="btn-busqueda-flotante" title="Buscar Cabaña">Buscar Cabaña</button>

    <!-- Ventana emergente de búsqueda -->
    <div id="modal-overlay" class="modal-overlay">
        <div class="modal-busqueda">
            <button class="btn-cerrar-modal" id="btn-cerrar-modal">×</button>
            <h3>Buscar Cabaña por ID</h3>
            <form id="form-buscar-cabana" class="form-busqueda">
                <div class="form-group">
                    <label for="id_cabana">ID de Cabaña:</label>
                    <input type="number" id="id_cabana" name="id_cabana" min="1" placeholder="Ej: 1, 2, 3..." required>
                </div>
                <button type="submit" class="btn-estadisticas">Buscar Cabaña</button>
            </form>
            <div id="resultado-busqueda" class="resultado-busqueda"></div>
        </div>
    </div>

    <main class="main-content">
        <!-- Sección 1: Grilla de Cabañas -->
        <section class="section-grilla">
            <h1 class="titulo-reservas">Cabañas</h1>
            <h2 class="subtitulo-reservas">Listado de Cabañas Registradas</h2>
            
            <!-- Botón de descargar reporte debajo del título -->
            <div class="reporte-header">
                <button id="btn-reporte-cabanas" class="btn-estadisticas" style="background: #17a2b8;">Descargar Reporte PDF</button>
            </div>

            <div id="mensajes"></div>

            <table>
                <thead>
                    <tr>
                        <th>ID Cabaña</th>
                        <th>Nombre Cabaña</th>
                        <th>Descripcion</th>
                        <th>Capacidad De Personas</th>
                        <th>Precio</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="contenedor-cabanas">
        
                </tbody>
            </table>
        </section>
    </main>
    
   <script>
  function cerrarSesion() {
    fetch('/logout', { method: 'POST' })
      .then(() => {
        window.location.href = '/login.html';
      })
      .catch(error => {
        console.error('Error al cerrar sesión:', error);
      });
  }
</script>
</body>
</html>
